{
  "project": "pogo-team-generator",
  "branchName": "ralph/local-pvpoke-data-sync",
  "description": "Replace the browser scraper with a deterministic local PvPoke data sync pipeline sourced from vendor/pvpoke (submodule) or PVPOKE_PATH, while preserving existing output contracts.",
  "userStories": [
    {
      "id": "US-001",
      "title": "Resolve local PvPoke source path",
      "description": "As a developer, I want the sync pipeline to resolve a local PvPoke source path so execution is deterministic and environment-aware.",
      "acceptanceCriteria": [
        "Resolve source in order: PVPOKE_PATH then vendor/pvpoke",
        "Support vendor/pvpoke as git submodule source path",
        "Fail fast with clear error when no valid source path exists",
        "Validate required source files exist before phase execution",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Add env scaffolding for source path",
      "description": "As a developer, I want env templates for PVPOKE_PATH so local setup is explicit and repeatable.",
      "acceptanceCriteria": [
        "Add .env.example with PVPOKE_PATH=<local-pvpoke-directory>",
        "Add .env with optional PVPOKE_PATH override (leave unset to use vendor/pvpoke)",
        "Log the resolved PvPoke source path at startup",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Create PvPoke compatibility layer",
      "description": "As a developer, I want a compatibility layer for PvPoke integration so this project is insulated from PvPoke internal changes.",
      "acceptanceCriteria": [
        "Create lib/sync/adapter.ts module with focused source access APIs",
        "Expose stable adapter methods for gamemaster, rankings, and simulations",
        "Avoid direct PvPoke internals imports outside the adapter",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Sync gamemaster JSON from local source",
      "description": "As a developer, I want phase 1 to read local pokemon and move JSON files so base data generation is deterministic.",
      "acceptanceCriteria": [
        "Read src/data/gamemaster/pokemon.json from resolved source",
        "Read src/data/gamemaster/moves.json from resolved source",
        "Write outputs to data/pokemon.json and data/moves.json",
        "Existing JSON validators pass",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Generate rankings CSV from local ranking JSON",
      "description": "As a developer, I want phase 2 to convert local PvPoke ranking JSON into current CSV outputs.",
      "acceptanceCriteria": [
        "Read all/overall rankings-1500.json and all/leads|switches|closers rankings-1500.json",
        "Transform ranking JSON into existing CSV schema",
        "Write cp1500_all_overall/leads/switches/closers ranking CSV files",
        "Existing rankings CSV validator passes",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Generate simulation CSVs from PvPoke engine",
      "description": "As a developer, I want phase 3 simulations generated by PvPoke engine logic without browser automation so runs complete reliably.",
      "acceptanceCriteria": [
        "Remove Playwright dependency from simulation generation path",
        "Generate 1-1, 0-0, and 2-2 simulation CSVs per selected Pokemon",
        "Preserve simulation CSV headers and filename contract",
        "Resume mode skips valid existing simulation CSV files",
        "Existing simulation CSV validator passes",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Rename command surface to sync",
      "description": "As a developer, I want command naming to reflect deterministic local synchronization instead of scraping.",
      "acceptanceCriteria": [
        "Remove scrape and scrape:view commands from package.json",
        "Add sync command in package.json",
        "Add/update script entrypoint to lib/scripts/sync.ts",
        "Update docs references from scrape to sync",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Remove deprecated scraper and Playwright dependencies",
      "description": "As a developer, I want obsolete browser-scraping code removed so maintenance and failure surface are reduced.",
      "acceptanceCriteria": [
        "Remove deprecated Playwright-driven scraper paths",
        "Remove playwright and @playwright/test dependencies from package.json",
        "Remove Playwright imports from scraper utilities/modules",
        "npm run sync completes without browser tooling",
        "Typecheck passes"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    }
  ]
}
